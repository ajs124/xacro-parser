{"version":3,"file":"XacroLoader.js","sources":["../src/utils.js","../src/XacroLoader.js"],"sourcesContent":["\r\nexport function getUrlBase(url) {\r\n\r\n    const tokens = url.split(/[\\\\/]/g);\r\n    tokens.pop();\r\n    if (tokens.length === 0) return './';\r\n    return tokens.join('/') + '/';\r\n\r\n}\r\n","import { getUrlBase } from './utils.js';\r\nimport { XacroParser } from './XacroParser.js';\r\n\r\nexport default\r\nclass XacroLoader {\r\n\r\n    /* Public API */\r\n    load(url, onComplete, options) {\r\n\r\n        const workingPath = getUrlBase(url);\r\n        const parser = new XacroParser();\r\n        Object.assign(parser, { workingPath }, options);\r\n        parser.getFileContents = async function(path) {\r\n            return (await fetch(path, options.fetchOptions)).text();\r\n        };\r\n\r\n        parser\r\n            .getFileContents(url)\r\n            .then(text => parser.parse(text))\r\n            .then(xml => onComplete(xml));\r\n\r\n    }\r\n\r\n    parse(data, onLoad, options = {}) {\r\n\r\n        const parser = new XacroParser();\r\n        Object.assign(parser, options);\r\n        parser.getFileContents = async function(path) {\r\n            return (await fetch(path, options.fetchOptions)).text();\r\n        };\r\n\r\n        parser\r\n            .parse(data)\r\n            .then(xml => onLoad(xml));\r\n\r\n    }\r\n\r\n}\r\n"],"names":["XacroParser"],"mappings":";;;;;;IACO,SAAS,UAAU,CAAC,GAAG,EAAE;;IAEhC,IAAI,MAAM,MAAM,GAAG,GAAG,CAAC,KAAK,CAAC,QAAQ,CAAC,CAAC;IACvC,IAAI,MAAM,CAAC,GAAG,EAAE,CAAC;IACjB,IAAI,IAAI,MAAM,CAAC,MAAM,KAAK,CAAC,EAAE,OAAO,IAAI,CAAC;IACzC,IAAI,OAAO,MAAM,CAAC,IAAI,CAAC,GAAG,CAAC,GAAG,GAAG,CAAC;;IAElC,CAAC;;ICJD,MAAM,WAAW,CAAC;;IAElB;IACA,IAAI,IAAI,CAAC,GAAG,EAAE,UAAU,EAAE,OAAO,EAAE;;IAEnC,QAAQ,MAAM,WAAW,GAAG,UAAU,CAAC,GAAG,CAAC,CAAC;IAC5C,QAAQ,MAAM,MAAM,GAAG,IAAIA,0BAAW,EAAE,CAAC;IACzC,QAAQ,MAAM,CAAC,MAAM,CAAC,MAAM,EAAE,EAAE,WAAW,EAAE,EAAE,OAAO,CAAC,CAAC;IACxD,QAAQ,MAAM,CAAC,eAAe,GAAG,eAAe,IAAI,EAAE;IACtD,YAAY,OAAO,CAAC,MAAM,KAAK,CAAC,IAAI,EAAE,OAAO,CAAC,YAAY,CAAC,EAAE,IAAI,EAAE,CAAC;IACpE,SAAS,CAAC;;IAEV,QAAQ,MAAM;IACd,aAAa,eAAe,CAAC,GAAG,CAAC;IACjC,aAAa,IAAI,CAAC,IAAI,IAAI,MAAM,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC;IAC7C,aAAa,IAAI,CAAC,GAAG,IAAI,UAAU,CAAC,GAAG,CAAC,CAAC,CAAC;;IAE1C,KAAK;;IAEL,IAAI,KAAK,CAAC,IAAI,EAAE,MAAM,EAAE,OAAO,GAAG,EAAE,EAAE;;IAEtC,QAAQ,MAAM,MAAM,GAAG,IAAIA,0BAAW,EAAE,CAAC;IACzC,QAAQ,MAAM,CAAC,MAAM,CAAC,MAAM,EAAE,OAAO,CAAC,CAAC;IACvC,QAAQ,MAAM,CAAC,eAAe,GAAG,eAAe,IAAI,EAAE;IACtD,YAAY,OAAO,CAAC,MAAM,KAAK,CAAC,IAAI,EAAE,OAAO,CAAC,YAAY,CAAC,EAAE,IAAI,EAAE,CAAC;IACpE,SAAS,CAAC;;IAEV,QAAQ,MAAM;IACd,aAAa,KAAK,CAAC,IAAI,CAAC;IACxB,aAAa,IAAI,CAAC,GAAG,IAAI,MAAM,CAAC,GAAG,CAAC,CAAC,CAAC;;IAEtC,KAAK;;IAEL,CAAC;;;;;;;;"}